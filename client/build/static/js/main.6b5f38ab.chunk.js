(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{303:function(e,t){},305:function(e,t){},346:function(e,t){},347:function(e,t){},439:function(e,t,n){},440:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(79),c=n.n(r),s=n(24),a=n(84),o=n.n(a),l=n(133),h=n(483),j=n(491),d=n(134),g=n.n(d),b=n(3),u=function(e){var t=e.onFormSubmit,n=Object(i.useState)(""),r=Object(s.a)(n,2),c=r[0],a=r[1],d=function(){var e=Object(l.a)(o.a.mark((function e(n){var i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,g.a.post("/chimpScrape",{url:c});case 3:i=e.sent,t(i.data.campaigns);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),u=Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{children:"Enter a MailChimp Campaign Archive URL to source from"}),Object(b.jsx)(h.a,{variant:"standard",onChange:function(e){return a(e.target.value)},value:c,sx:{width:"60%"},label:"MailChimp Campaign Archive URL"}),Object(b.jsx)(j.a,{variant:"contained",onClick:function(e,t){return d(e,t)},children:"Select Issues"}),Object(b.jsxs)("div",{style:{maxWidth:"600px",marginTop:"2.5rem",backgroundColor:"#d3d3d3",borderRadius:"7px",padding:"1rem"},children:[Object(b.jsx)("div",{children:"To find your Campaign Archive URL follow these steps:"}),Object(b.jsxs)("ol",{children:[Object(b.jsxs)("li",{children:["Log into"," ",Object(b.jsx)("a",{href:"http://mailchimp.com",target:"_blank",children:"Mailchimp"})]}),Object(b.jsxs)("li",{children:["Click ",Object(b.jsx)("i",{children:"Campaigns"})]}),Object(b.jsxs)("li",{children:["Next to (or under) your Campaign you'll see a button called"," ",Object(b.jsx)("i",{children:"Sent Campaign"})," or ",Object(b.jsx)("i",{children:"View Report"})," or ",Object(b.jsx)("i",{children:"Edit"})," (the wording depends on the type of Campaign). Click the down arrow to the right of the words."," "]}),Object(b.jsxs)("li",{children:["Click ",Object(b.jsx)("i",{children:"View email"}),"."]}),Object(b.jsxs)("li",{children:["You'll now see an email that was sent as part of your Campaign. Click ",Object(b.jsx)("i",{children:"Past Issues"})," which is near the top of the screen."]}),Object(b.jsx)("li",{children:"You are now seeing a list (archive) of sent Campaigns. The link to the archive will be in your Internet Browser (e.g. Google Chrome, Safari, Firefox, etc.) address bar."})]})]})]});return Object(b.jsx)(b.Fragment,{children:u})},m=n(180),x=n(490),f=n(485),p=n(481),O=n(492),y=n(493),v=n(484),C=function(e){var t=e.campaigns,n=e.changeCampaigns,i=e.setArticles,r=function(){var e=Object(l.a)(o.a.mark((function e(n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),r=t.filter((function(e){return e.selected})),e.next=4,g.a.post("/chimpScrape/chimpPullContent",{issues:r});case 4:return c=e.sent,i(c.data.articles.flat()),e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(j.a,{variant:"contained",onClick:r,children:"Select Content"}),Object(b.jsx)(x.a,{children:t.map((function(e,i){return Object(b.jsx)(f.a,{disablePadding:!0,children:Object(b.jsxs)(p.a,{onClick:function(){return function(e){if(t.length>0){var i=t.map((function(t){return t.url===e?Object(m.a)(Object(m.a)({},t),{},{selected:!t.selected}):t}));n(i)}}(e.url)},children:[Object(b.jsx)(O.a,{children:Object(b.jsx)(v.a,{edge:"start",checked:e.selected,tabIndex:-1,disableRipple:!0})}),Object(b.jsx)(y.a,{children:e.headline}),Object(b.jsx)(y.a,{edge:"end",children:e.date})]})},e.url)}))})]})},w=n(40),S=n(494),k=n(26);k.b.register({family:"Assistant",fonts:[{src:"http://fonts.gstatic.com/s/assistant/v1/2iDwv6DBtyixlK5YHngp1w.ttf"},{src:"http://fonts.gstatic.com/s/assistant/v1/xXstfiHQzjB9j5ZxYTBoZy3USBnSvpkopQaUR-2r7iU.ttf",fontWeight:200},{src:"http://fonts.gstatic.com/s/assistant/v1/xXstfiHQzjB9j5ZxYTBoZy3USBnSvpkopQaUR-2r7iU.ttf",fontWeight:600}]}),k.b.register({family:"Cardo",fonts:[{src:"http://fonts.gstatic.com/s/cardo/v8/jbkF2_R0FKUEZTq5dwSknQ.ttf"}]});var A=k.f.create({page:{padding:"20 20 55 20"},title:{fontFamily:"Assistant",fontSize:20},text:{fontSize:12,fontFamily:"Cardo",margin:"0 0 9 0",lineHeight:"1.5"},textLast:{fontSize:12,fontFamily:"Cardo",margin:"0",lineHeight:"1.5"},image:{maxWidth:"50%",height:"auto",marginBottom:7},footer:{display:"flex",flexDirection:"row",position:"absolute",fontSize:12,bottom:20,left:0,right:0,color:"grey",fontFamily:"Assistant",justifyContent:"space-between",padding:"10 0",margin:"0 20"},pageNumber:{},article:{},shortArticle:{flexDirection:"row"},shortArticleText:{marginRight:185,marginLeft:10,fontSize:12,fontFamily:"Cardo",lineHeight:"1.5"},shortArticleImage:{width:"33%",height:"auto",objectFit:"contain",objectPosition:"0% 0%",paddingBottom:10},spacer:{borderBottom:"1 solid grey",marginBottom:10,paddingBottom:10}}),B=function(e){var t=e.orgName,n=e.articles;k.b.register({family:"Roboto",src:"https://fonts.googleapis.com/css2?family=Assistant&display=swap"}),console.log("ARTICLES [Newsletter]: ",n);n.filter((function(e){return e.text.length>=400})),n.filter((function(e){return e.text.length>400}));var i=function(e){return Object(b.jsxs)(k.h,{children:[Object(b.jsx)(k.g,{minPresenceAhead:24,style:A.title,children:e.headline[0].length>=100?null:"".concat(e.headline)}),e.text.split("\n").map((function(e,t,n){return t>0&&e.length>1?"\t"===e.charAt(0)?(i=e,Object(b.jsxs)(k.g,{children:["\u2022 ",i.substring(1)]})):t===n.length-1?Object(b.jsx)(k.g,{style:A.textLast,children:e}):Object(b.jsx)(k.g,{style:A.text,children:e}):e.length>=100?Object(b.jsx)(k.g,{style:A.text,children:e}):null;var i}))]})};return Object(b.jsx)(k.a,{children:Object(b.jsxs)(k.e,{size:"LETTER",style:A.page,children:[Object(b.jsxs)(k.h,{fixed:!0,style:{borderBottom:"2 solid black",flexGrow:0,display:"flex",flexDirection:"row",justifyContent:"space-between",flexBasis:"100%",marginBottom:"10",padding:"8",fontSize:11,backgroundColor:"#e8e8e8",textTransform:"uppercase",fontFamily:"Assistant",fontWeight:"900"},children:[Object(b.jsx)(k.g,{style:{textTransform:"uppercase"},children:t}),Object(b.jsx)(k.g,{children:(new Date).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})})]}),Object(b.jsxs)(k.h,{children:[Object(b.jsx)(k.g,{fontWeight:"thin",style:{fontSize:50,marginTop:-10,textAlign:"center",letterSpacing:3,fontFamily:"Assistant",fontWeight:200,borderBottom:"1 solid grey",marginBottom:10},children:"Newsletter"}),n.map((function(e,t){return e.image.src?e.text.length<=400?Object(b.jsx)(k.h,{style:A.spacer,children:Object(b.jsxs)(k.h,{style:A.shortArticle,children:[Object(b.jsx)(k.c,{style:A.shortArticleImage,minPresenceAhead:80,src:"https://cors.grahamwebworks.com/".concat(e.image.src)}),Object(b.jsx)(k.h,{style:A.shortArticleText,children:i(e)})]})},t):Object(b.jsx)(k.h,{style:A.spacer,children:Object(b.jsxs)(k.h,{style:A.article,children:[Object(b.jsx)(k.c,{style:A.image,minPresenceAhead:1,src:"https://cors.grahamwebworks.com/".concat(e.image.src)}),i(e)]})},t):Object(b.jsx)(k.h,{style:A.spacer,children:Object(b.jsx)(k.h,{style:A.article,children:i(e)})},t)}))]}),Object(b.jsxs)(k.h,{fixed:!0,style:A.footer,children:[Object(b.jsx)(k.g,{children:"rbcommunity.org"}),Object(b.jsx)(k.g,{style:A.pageNumber,render:function(e){var t=e.pageNumber,n=e.totalPages;return"".concat(t," / ").concat(n)},fixed:!0})]})]})})},F=function(e){var t=e.articles,n=Object(i.useState)(""),r=Object(s.a)(n,2),c=r[0],a=r[1],o=Object(i.useState)(Object(w.a)(Array(t.length).keys())),l=Object(s.a)(o,2),j=l[0],d=l[1];return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(S.a,{sx:{display:"grid",gridTemplateColumns:"70% 1fr",height:"100vh"},children:[Object(b.jsx)("div",{style:{gridColumn:"1 / 2",padding:"2rem"},children:Object(b.jsx)(k.d,{width:"100%",height:"100%",children:Object(b.jsx)(B,{orgName:c,articles:j.map((function(e){return t[e]}))})})}),Object(b.jsxs)("div",{style:{gridColumn:"2 / 3"},children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:"Heading"}),Object(b.jsx)(h.a,{label:"Organization Name",variant:"outlined",value:c,onChange:function(e){return a(e.target.value)}})]}),Object(b.jsxs)("div",{children:["Articles:",Object(b.jsx)("ul",{style:{listStyle:"none"},children:t.map((function(e,t){return Object(b.jsx)("li",{children:Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",name:t,id:t,defaultChecked:!0,onChange:function(e){return function(e){e.target.checked?d([].concat(Object(w.a)(j),[e.target.id]).sort((function(e,t){return e-t}))):e.target.checked||d(j.filter((function(t){return t!=e.target.id})))}(e)}}),e.headline]})},t)}))})]})]})]})})},T=n(488),R=n(489),z=n(487),U=function(){var e=Object(i.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],c=Object(i.useState)([]),a=Object(s.a)(c,2),o=a[0],l=a[1];return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(T.a,{sx:{mb:2},position:"static",children:Object(b.jsx)(R.a,{children:Object(b.jsx)(z.a,{variant:"h6",children:"ChimpPrint"})})}),Object(b.jsx)("div",{style:{margin:"0 2.5rem"},children:n.length?o.length?Object(b.jsx)(F,{articles:o}):Object(b.jsx)(C,{campaigns:n,changeCampaigns:r,setArticles:l}):Object(b.jsx)(u,{onFormSubmit:r})})]})};n(439);c.a.render(Object(b.jsx)(U,{}),document.querySelector("#root"))}},[[440,1,2]]]);
//# sourceMappingURL=main.6b5f38ab.chunk.js.map